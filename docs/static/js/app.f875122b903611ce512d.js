webpackJsonp([1],{"9TaQ":function(t,n){},NHnr:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var s=e("7+uW"),o=e("1mcD"),a=e.n(o),r=e("yviF"),i=e.n(r),c={render:function(){var t=this.$createElement,n=this._self._c||t;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},staticRenderFns:[]};var d=e("VU/8")({name:"App"},c,!1,function(t){e("9TaQ")},null,null).exports,l=e("/ocq"),u=e("kxiW"),p=e.n(u),v={name:"LandingPage",data:function(){return{message:"postcards",postcards:[],entry:null}},mounted:function(){var t=this;this.postcards=[],p.a.firestore().collection("postcards").orderBy("date","asc").get().then(function(n){for(var e=0;e<n.docs.length;e++){var s=n.docs[e].data();s.id=e+1,t.postcards.push(s)}})},methods:{toDate:function(t){var n=new Date(t);return["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][n.getMonth()]+" "+n.getDate()+", "+(1900+n.getYear())},randomStory:function(){var t=1+Math.floor(Math.random()*Math.floor(this.postcards.length)),n=document.getElementById(t).getBoundingClientRect().top-20;window.scrollBy({top:n,left:0})}}},m={render:function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"container"},[e("h1",[t._v(" Postcards from Sam ")]),t._v(" "),e("p",{staticClass:"sub"},[t._v(" Writing Abstract Postcards for Abstract Purposes ")]),t._v(" "),e("div",{staticClass:"cardlist"},t._l(t.postcards,function(n){return e("div",{staticClass:"content"},[e("div",{ref:"postcard.id",refInFor:!0,staticClass:"single-card",attrs:{id:n.id}},[e("div",{staticClass:"to-col"},[e("div",{staticClass:"recepient"},[t._v("\n            To: \n            "),e("br"),t._v("\n            "+t._s(n.to)+"\n          ")]),t._v(" "),e("div",{staticClass:"date"},[t._v("\n            "+t._s(t.toDate(n.date))+"\n          ")])]),t._v(" "),e("hr"),t._v(" "),e("div",{staticClass:"message-col"},[t._v("\n          "+t._s(n.message)+"\n        ")])])])})),t._v(" "),e("div",{staticClass:"shuffle-button",on:{click:function(n){t.randomStory()}}},[e("i",{staticClass:"material-icons"},[t._v("shuffle")])])])},staticRenderFns:[]};e("VU/8")(v,m,!1,function(t){e("cRQ6")},null,null).exports;var g={name:"EntryPage",data:function(){return{email:"",password:"",entry:"",to:"",signedIn:!1,numWords:0}},mounted:function(){var t=p.a.auth().currentUser;console.log(t),this.signedIn=null!=t},methods:{signin:function(){var t=this;p.a.auth().signInWithEmailAndPassword(this.email,this.password).then(function(){console.log("signed in"),t.signedIn=!0}).catch(function(t){console.log("error with sign in");var n=t.code,e=t.message;console.log(n),console.log(e)})},signout:function(){var t=this;p.a.auth().signOut().then(function(){console.log("signed out"),t.signedIn=!1}).catch(function(t){console.log("couldnt sign out"),console.log(t)})},addEntry:function(){var t=this;p.a.firestore().collection("postcards").add({message:this.entry,to:this.to,rating:0,tags:[],date:Date.now()}).then(function(n){console.log("Document written with ID: ",n.id),t.entry="",t.to="",t.$router.push("/")}).catch(function(t){console.error("Error adding document: ",t)})}},watch:{entry:function(){this.numWords=this.entry.split(" ").length-1}}},f={render:function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[t.signedIn?e("div",[e("br"),t._v(" "),e("p",[t._v("To")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.to,expression:"to"}],domProps:{value:t.to},on:{input:function(n){n.target.composing||(t.to=n.target.value)}}}),t._v(" "),e("br"),t._v(" "),e("p",[t._v("Message:")]),t._v(" "),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.entry,expression:"entry"}],attrs:{rows:"20",cols:"50"},domProps:{value:t.entry},on:{input:function(n){n.target.composing||(t.entry=n.target.value)}}}),t._v(" "),e("br"),t._v(" "),e("p",[t._v(t._s(t.numWords))]),t._v(" "),e("button",{on:{click:t.addEntry}},[t._v("add")]),t._v(" "),e("br"),t._v(" "),e("button",{on:{click:t.signout}},[t._v("signout")])]):e("div",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],domProps:{value:t.email},on:{input:function(n){n.target.composing||(t.email=n.target.value)}}}),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{type:"password"},domProps:{value:t.password},on:{input:function(n){n.target.composing||(t.password=n.target.value)}}}),t._v(" "),e("button",{on:{click:t.signin}},[t._v("signin")])])])},staticRenderFns:[]},h=e("VU/8")(g,f,!1,null,null,null).exports;s.a.use(l.a);var _=new l.a({routes:[{path:"/",name:"EntryPage",component:h},{path:"/post",name:"EntryPage",component:h}]});s.a.config.productionTip=!1,s.a.use(a.a);i.a.initializeApp({apiKey:"AIzaSyBOwu3rpWLBcXBp0f-Bd_VK0nwiCiIm3ks",authDomain:"postcards-77979.firebaseapp.com",databaseURL:"https://postcards-77979.firebaseio.com",projectId:"postcards-77979",storageBucket:"postcards-77979.appspot.com",messagingSenderId:"12236556675"}).firestore().settings({timestampsInSnapshots:!0}),new s.a({el:"#app",router:_,components:{App:d},template:"<App/>"})},cRQ6:function(t,n){}},["NHnr"]);
//# sourceMappingURL=app.f875122b903611ce512d.js.map